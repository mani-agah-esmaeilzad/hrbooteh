(()=>{var e={};e.id=615,e.ids=[615],e.modules={62849:e=>{function s(e){var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}s.keys=()=>[],s.resolve=s,s.id=62849,e.exports=s},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},98216:e=>{"use strict";e.exports=require("net")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},95346:e=>{"use strict";e.exports=require("timers")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},32889:(e,s,t)=>{"use strict";t.r(s),t.d(s,{originalPathname:()=>I,patchFetch:()=>S,requestAsyncStorage:()=>y,routeModule:()=>h,serverHooks:()=>A,staticGenerationAsyncStorage:()=>R});var a={};t.r(a),t.d(a,{POST:()=>N});var r=t(49303),n=t(88716),i=t(60670),o=t(87070),c=t(41482),_=t.n(c),m=t(7410),u=t(38990),d=t(74462);let p={E_I:{dimension:"برون‌گرایی/درون‌گرایی",keywords:{negative:["جمع","گروه","با دیگران","اجتماعی","صحبت کردن","ارتباط","تیم","همکاری","بحث","جلسه","انرژی از دیگران","فعال در جمع"],positive:["تنها","خودم","آرام","فکر کردن","تأمل","خلوت","شخصی","درونی","ساکت","تمرکز","انرژی درونی","کتاب خواندن"]}},S_N:{dimension:"حسی/شهودی",keywords:{negative:["عملی","واقعی","جزئیات","مشخص","تجربه","حقایق","گام به گام","روتین","سنتی","ملموس","دقیق","آمار"],positive:["ایده","خلاقیت","آینده","امکانات","تصور","نوآوری","الهام","رؤیا","انتزاعی","نظریه","تغییر","احتمال"]}},T_F:{dimension:"تفکری/احساسی",keywords:{negative:["منطق","تحلیل","عقلانی","بی‌طرف","عدالت","کارآمد","نتیجه","سیستم","قانون","دلیل","علمی","روش"],positive:["احساس","همدلی","مهربانی","ارزش‌ها","انسانی","قلب","مراقبت","هماهنگی","روابط","عشق","درک","حمایت"]}},P_J:{dimension:"ادراکی/قضاوتی",keywords:{negative:["انعطاف","باز","خودجوش","تطبیق","کشف","گزینه‌ها","آزاد","بداهه","تغییر","جریان","کنجکاوی","تجربه"],positive:["برنامه","سازمان","نظم","تصمیم","کنترل","زمان‌بندی","هدف","پایان","ساختار","قطعی","مسئولیت","منظم"]}}},l={INTJ:{name:"معمار (Architect)",description:"تفکر استراتژیک، مستقل و قاطع. دارای بینش عمیق و توانایی پیاده‌سازی ایده‌های پیچیده.",strengths:["تفکر استراتژیک","مستقل","قاطع","خلاق","تحلیلگر"],challenges:["انتقادی بودن","بی‌صبری","تنهایی","سختگیری"],careers:["مهندس نرم‌افزار","محقق","مشاور مدیریت","معمار","دانشمند"],famous:["ایلان ماسک","استیو جابز","نیکولا تسلا"]},INTP:{name:"متفکر (Thinker)",description:"کنجکاو و نوآور، دارای عطش دانش و درک عمیق از سیستم‌ها و نظریه‌ها.",strengths:["تحلیلی","منطقی","مستقل","خلاق","انعطاف‌پذیر"],challenges:["عدم تمرکز","تأخیر","انزوا","عدم صبر با جزئیات"],careers:["دانشمند","فیلسوف","ریاضی‌دان","برنامه‌نویس","محقق"],famous:["آلبرت انیشتین","بیل گیتس","چارلز داروین"]},ENTJ:{name:"فرمانده (Commander)",description:"رهبر طبیعی، جسور و قاطع. توانایی تشخیص مشکلات و حل آن‌ها با راه‌حل‌های خلاقانه.",strengths:["رهبری","استراتژیک","کارآمد","اعتماد به نفس","قاطع"],challenges:["بی‌صبری","سلطه‌جو","سرسخت","عدم توجه به احساسات"],careers:["مدیر اجرایی","کارآفرین","وکیل","مشاور","سیاستمدار"],famous:["استیو جابز","ناپلئون بناپارت","مارگارت تاچر"]},ENTP:{name:"مناظره‌کننده (Debater)",description:"هوشمند و کنجکاو، قادر به الهام بخشیدن و چالش کردن وضع موجود.",strengths:["خلاق","انعطاف‌پذیر","پرانرژی","مناظره‌کننده","نوآور"],challenges:["عدم تمرکز","بی‌نظمی","بحث‌طلبی","عدم صبر"],careers:["کارآفرین","مشاور","روزنامه‌نگار","وکیل","مخترع"],famous:["والت دیزنی","تام هنکس","رابرت داونی جونیور"]},INFJ:{name:"وکیل (Advocate)",description:"خلاق و بصیر، دارای اصول محکم و تمایل به کمک به دیگران برای تحقق پتانسیل‌شان.",strengths:["بصیرت","ایده‌آلیست","سازمان‌یافته","مراقب","خلاق"],challenges:["حساس","کمال‌طلب","خصوصی","فرسودگی"],careers:["مشاور","نویسنده","روان‌شناس","معلم","هنرمند"],famous:["مارتین لوتر کینگ","نلسون ماندلا","مادر ترزا"]},INFP:{name:"میانجی (Mediator)",description:"ایده‌آلیست و وفادار، همیشه به دنبال راه‌هایی برای انجام کار خوب در دنیا.",strengths:["ایده‌آلیست","وفادار","انعطاف‌پذیر","مراقب","خلاق"],challenges:["حساس","عملی نبودن","سخت‌گیری از خود","انزوا"],careers:["نویسنده","هنرمند","مشاور","روان‌شناس","معلم"],famous:["ویلیام شکسپیر","جانی دپ","پرنسس دایانا"]},ENFJ:{name:"قهرمان (Protagonist)",description:"کاریزماتیک و الهام‌بخش، قادر به تشویق دیگران برای رسیدن به اهدافشان.",strengths:["رهبری","کاریزما","مراقب","الهام‌بخش","سازمان‌یافته"],challenges:["حساس","ایده‌آلیست","خودانتقادی","فرسودگی"],careers:["معلم","مشاور","مربی","سیاستمدار","روان‌شناس"],famous:["اپرا وینفری","باراک اوباما","مایا آنجلو"]},ENFP:{name:"کمپین‌ساز (Campaigner)",description:"مشتاق و خلاق، دارای زندگی اجتماعی قوی و همیشه مملو از ایده‌های جدید.",strengths:["مشتاق","خلاق","اجتماعی","انعطاف‌پذیر","مراقب"],challenges:["عدم تمرکز","بی‌نظمی","حساس","استرس"],careers:["روزنامه‌نگار","هنرمند","مشاور","بازاریاب","معلم"],famous:["رابین ویلیامز","ویل اسمیت","الن دی‌جنرس"]},ISTJ:{name:"لجستیک (Logistician)",description:"عملی و واقع‌گرا، قابل اعتماد و مسئولیت‌پذیر در تمام کارها.",strengths:["قابل اعتماد","مسئولیت‌پذیر","عملی","صبور","وفادار"],challenges:["سرسخت","انتقادی","مقاوم در برابر تغییر","خودانتقادی"],careers:["حسابدار","مدیر","وکیل","دکتر","مهندس"],famous:["جرج واشنگتن","وارن بافت","آنگلا مرکل"]},ISFJ:{name:"محافظ (Protector)",description:"گرم و مراقب، همیشه آماده دفاع از عزیزانشان.",strengths:["مراقب","قابل اعتماد","سخت‌کوش","مهربان","عملی"],challenges:["خودگذشته","حساس","مقاوم در برابر تغییر","کمال‌طلب"],careers:["پرستار","معلم","مشاور","پزشک","اداری"],famous:["مادر ترزا","کیت میدلتون","رزا پارکس"]},ESTJ:{name:"اجرایی (Executive)",description:"سازمان‌یافته و قاطع، قادر به مدیریت کردن افراد و پروژه‌ها.",strengths:["سازمان‌یافته","قاطع","عملی","مسئولیت‌پذیر","رهبر"],challenges:["سرسخت","انتقادی","بی‌صبر","سلطه‌جو"],careers:["مدیر","قاضی","پلیس","نظامی","مدیر اجرایی"],famous:["هیلاری کلینتون","جان راکفلر","فرانک سیناترا"]},ESFJ:{name:"کنسول (Consul)",description:"مراقب و مردم‌دوست، همیشه آماده کمک و ایجاد هماهنگی.",strengths:["مراقب","مسئولیت‌پذیر","گرم","همکار","سازمان‌یافته"],challenges:["حساس","نیازمند تأیید","مقاوم در برابر تغییر","فداکار"],careers:["معلم","پرستار","مدیر منابع انسانی","مشاور","فروشنده"],famous:["تیلور سویفت","هیو جکمن","دنی واشنگتن"]},ISTP:{name:"مجرب (Virtuoso)",description:"جسور و عملی، استاد ابزارها و تکنیک‌های مختلف.",strengths:["عملی","انعطاف‌پذیر","آرام","منطقی","خلاق"],challenges:["خصوصی","حساس","سرسخت","کم صبر"],careers:["مهندس","مکانیک","پایلوت","ورزشکار","هنرمند"],famous:["مایکل جردن","تام کروز","بروس لی"]},ISFP:{name:"ماجراجو (Adventurer)",description:"هنرمند و انعطاف‌پذیر، همیشه آماده کشف امکانات جدید.",strengths:["هنرمند","انعطاف‌پذیر","گرم","کنجکاو","مراقب"],challenges:["حساس","خصوصی","سخت‌گیر","کم اعتماد به نفس"],careers:["هنرمند","موسیقی‌دان","طراح","عکاس","مشاور"],famous:["مایکل جکسون","فریدا کالو","آدل"]},ESTP:{name:"کارآفرین (Entrepreneur)",description:"پرانرژی و ادراک‌کننده، واقعاً از زندگی لذت می‌برند.",strengths:["پرانرژی","عملی","انعطاف‌پذیر","اجتماعی","خودجوش"],challenges:["بی‌صبر","ریسک‌پذیر","حواس‌پرت","حساس"],careers:["فروشنده","ورزشکار","کارآفرین","پلیس","بازیگر"],famous:["دونالد ترامپ","مدونا","ارنست همینگوی"]},ESFP:{name:"سرگرم‌کننده (Entertainer)",description:"خودجوش و مشتاق، هرگز فرصت خوبی را از دست نمی‌دهند.",strengths:["مشتاق","گرم","اجتماعی","عملی","خودجوش"],challenges:["حساس","تضاد گریز","بی‌نظم","تمرکز ضعیف"],careers:["بازیگر","موسیقی‌دان","مشاور","معلم","فروشنده"],famous:["الویس پریسلی","مریلین مونرو","جیمی فاکس"]}};function E(e,s){let t=p[s];if(!t)return{score:0,reasoning:"بعد تحلیل یافت نشد"};let a=e.toLowerCase(),r=0,n=0,i=[];t.keywords.negative.forEach(e=>{a.includes(e.toLowerCase())&&(n++,i.push(`-${e}`))}),t.keywords.positive.forEach(e=>{a.includes(e.toLowerCase())&&(r++,i.push(`+${e}`))});let o=Math.max(-2,Math.min(2,r-n)),c=`${t.dimension}: ${o>0?"گرایش به حرف دوم":o<0?"گرایش به حرف اول":"متعادل"} (${i.join(", ")||"تحلیل کلی"})`;return{score:o,reasoning:c}}function T(e){if(12!==e.length)throw Error("باید دقیقاً 12 پاسخ برای تحلیل MBTI ارائه شود");let s=[E(e[0],"E_I"),E(e[1],"E_I"),E(e[2],"E_I")],t=Math.round(s.reduce((e,s)=>e+s.score,0)/3),a=[E(e[3],"S_N"),E(e[4],"S_N"),E(e[5],"S_N")],r=Math.round(a.reduce((e,s)=>e+s.score,0)/3),n=[E(e[6],"T_F"),E(e[7],"T_F"),E(e[8],"T_F")],i=Math.round(n.reduce((e,s)=>e+s.score,0)/3),o=[E(e[9],"P_J"),E(e[10],"P_J"),E(e[11],"P_J")],c=Math.round(o.reduce((e,s)=>e+s.score,0)/3),_=(t<=0?"E":"I")+(r<=0?"S":"N")+(i<=0?"T":"F")+(c<=0?"P":"J"),m=l[_];return{E_I_score:t,S_N_score:r,T_F_score:i,P_J_score:c,personality_type:_,type_name:m.name,description:m.description,strengths:m.strengths,challenges:m.challenges,career_suggestions:m.careers,famous_people:m.famous,detailedAnalysis:{part1:{E_I:t,reasoning:s.map(e=>e.reasoning).join(" | ")},part2:{S_N:r,reasoning:a.map(e=>e.reasoning).join(" | ")},part3:{T_F:i,reasoning:n.map(e=>e.reasoning).join(" | ")},part4:{P_J:c,reasoning:o.map(e=>e.reasoning).join(" | ")}}}}let g=m.z.object({message:m.z.string().min(1,"پیام نمی‌تواند خالی باشد"),session_id:m.z.string().min(1,"شناسه جلسه الزامی است")});async function N(e){try{let s;let t=await e.json(),{message:a,session_id:r}=g.parse(t),n=e.headers.get("authorization");if(!n||!n.startsWith("Bearer "))return o.NextResponse.json({success:!1,message:"توکن احراز هویت یافت نشد"},{status:401});let i=n.substring(7);try{s=_().verify(i,process.env.JWT_SECRET).userId}catch(e){return o.NextResponse.json({success:!1,message:"توکن نامعتبر است"},{status:401})}let c=await (0,u._3)();if(!c)throw Error("Failed to get database connection");try{let e;let[t]=await c.execute("SELECT first_name, last_name FROM users WHERE id = ?",[s]),n=Array.isArray(t)&&t.length>0?t[0]:null,i=n?`${n.first_name} ${n.last_name}`.trim():"کاربر",[_]=await c.execute("SELECT state_data FROM assessment_states WHERE session_id = ?",[r]);if(!Array.isArray(_)||0===_.length)return o.NextResponse.json({success:!1,message:"جلسه یافت نشد"},{status:404});let m=_[0];try{e="string"==typeof m.state_data?JSON.parse(m.state_data):m.state_data}catch(e){return console.error("Error parsing state_data:",e),console.log("Raw state_data:",m.state_data),o.NextResponse.json({success:!1,message:"خطا در خواندن وضعیت ارزیابی"},{status:500})}let[u]=await c.execute("SELECT id FROM assessments WHERE user_id = ? AND questionnaire_id = 2 ORDER BY created_at DESC LIMIT 1",[s]);if(!Array.isArray(u)||0===u.length)return o.NextResponse.json({success:!1,message:"ارزیابی یافت نشد"},{status:404});let p=u[0].id;await c.execute("INSERT INTO chat_messages (assessment_id, user_id, message_type, content, character_name, created_at) VALUES (?, ?, ?, ?, ?, ?)",[p,s,"user",a,"User",new Date]);let l=(0,d.p)(),E=l.scenario_parts[e.current_part];if(e.current_part>=l.scenario_parts.length){let[e]=await c.execute('SELECT content FROM chat_messages WHERE assessment_id = ? AND message_type = "user" ORDER BY created_at ASC',[p]),t=Array.isArray(e)?e.map(e=>e.content):[];console.log("MBTI Analysis - User responses count:",t.length);let a=T(t);await c.execute("UPDATE assessments SET score = ?, analysis_result = ? WHERE id = ?",[8,JSON.stringify(a),p]);let r={assessment_id:p,message_type:"system",content:`تحلیل شخصیت شما کامل شد!

نوع شخصیت: ${a.personality_type}

${a.description}`,character:"System",created_at:new Date};return await c.execute("INSERT INTO chat_messages (assessment_id, user_id, message_type, content, character_name, created_at) VALUES (?, ?, ?, ?, ?, ?)",[r.assessment_id,s,r.message_type,r.content,r.character,r.created_at]),o.NextResponse.json({success:!0,message:"آزمون تکمیل شد",data:{type:"assessment_complete",final_analysis:a,messages:[{type:r.message_type,content:r.content,character:r.character,timestamp:r.created_at}]}})}{let t=[{dimension:E.dimensions_to_analyze[0],score:1,reasoning:"پاسخ کاربر ثبت شد"}];for(let s of t)e.mbti_scores.hasOwnProperty(s.dimension)&&(e.mbti_scores[s.dimension]+=s.score);e.history.push({part:e.current_part,user_response:a,analysis:t}),e.current_part+=1,await c.execute("UPDATE assessment_states SET state_data = ? WHERE session_id = ?",[JSON.stringify(e),r]);let n=l.scenario_parts[e.current_part],_=[];if(console.log("Next scenario check - current_part:",e.current_part,"total scenarios:",l.scenario_parts.length),n){let e=n.systemMessage.replace(/{user_name}/g,i),t={assessment_id:p,message_type:"system",content:e,character:"System",created_at:new Date};await c.execute("INSERT INTO chat_messages (assessment_id, user_id, message_type, content, character_name, created_at) VALUES (?, ?, ?, ?, ?, ?)",[t.assessment_id,s,t.message_type,t.content,t.character,t.created_at]),_.push({type:t.message_type,content:t.content,character:t.character,timestamp:t.created_at});let a={assessment_id:p,message_type:"system",content:n.question,character:"System",created_at:new Date};await c.execute("INSERT INTO chat_messages (assessment_id, user_id, message_type, content, character_name, created_at) VALUES (?, ?, ?, ?, ?, ?)",[a.assessment_id,s,a.message_type,a.content,a.character,a.created_at]),_.push({type:a.message_type,content:a.content,character:a.character,timestamp:a.created_at})}else{let[e]=await c.execute('SELECT content FROM chat_messages WHERE assessment_id = ? AND message_type = "user" ORDER BY created_at ASC',[p]),t=Array.isArray(e)?e.map(e=>e.content):[];console.log("Final analysis - User responses count:",t.length);let a=T(t);await c.execute("UPDATE assessments SET score = ?, analysis_result = ? WHERE id = ?",[8,JSON.stringify(a),p]);let r={assessment_id:p,message_type:"system",content:`تحلیل شخصیت شما کامل شد!

نوع شخصیت: ${a.personality_type}

${a.description}`,character:"System",created_at:new Date};return await c.execute("INSERT INTO chat_messages (assessment_id, user_id, message_type, content, character_name, created_at) VALUES (?, ?, ?, ?, ?, ?)",[r.assessment_id,s,r.message_type,r.content,r.character,r.created_at]),o.NextResponse.json({success:!0,message:"آزمون تکمیل شد",data:{type:"assessment_complete",final_analysis:a,redirect_url:"/mbti-results",messages:[{type:r.message_type,content:r.content,character:r.character,timestamp:r.created_at}]}})}return o.NextResponse.json({success:!0,message:"پیام دریافت شد",data:{type:"ai_turn",messages:_,session_id:r,current_part:e.current_part}})}}catch(e){return console.error("Database error:",e),o.NextResponse.json({success:!1,message:"خطا در پردازش درخواست"},{status:500})}finally{c&&c.release()}}catch(e){if(console.error("Chat MBTI error:",e),e instanceof m.z.ZodError)return o.NextResponse.json({success:!1,message:"داده‌های ورودی نامعتبر",errors:e.errors},{status:400});return o.NextResponse.json({success:!1,message:"خطای داخلی سرور"},{status:500})}}let h=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/assessment/chat-mbti/route",pathname:"/api/assessment/chat-mbti",filename:"route",bundlePath:"app/api/assessment/chat-mbti/route"},resolvedPagePath:"/root/hrbooteh/src/app/api/assessment/chat-mbti/route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:y,staticGenerationAsyncStorage:R,serverHooks:A}=h,I="/api/assessment/chat-mbti/route";function S(){return(0,i.patchFetch)({serverHooks:A,staticGenerationAsyncStorage:R})}},38990:(e,s,t)=>{"use strict";t.d(s,{M7:()=>o,ZP:()=>_,_3:()=>i,sA:()=>c});var a=t(73785);let r={host:process.env.DB_HOST||"localhost",user:process.env.DB_USER||"root",password:process.env.DB_PASSWORD||"",database:process.env.DB_NAME||"arta_persia_db",port:parseInt(process.env.DB_PORT||"3306"),waitForConnections:!0,connectionLimit:10,queueLimit:0,timeout:6e4,charset:"utf8mb4"},n=a.createPool(r);async function i(e=3,s=1e3){for(let t=0;t<e;t++)try{return await n.getConnection()}catch(a){if(console.warn(`Connection attempt ${t+1} failed:`,a.message),t===e-1)throw a;await new Promise(e=>setTimeout(e,s))}}async function o(){try{let e=await n.getConnection();return console.log("✅ اتصال به دیتابیس MySQL برقرار شد"),e.release(),!0}catch(e){return console.error("❌ خطا در اتصال به دیتابیس:",e),!1}}async function c(){try{let e=await n.getConnection();return await e.execute(`
      CREATE TABLE IF NOT EXISTS users (
        id INT AUTO_INCREMENT PRIMARY KEY,
        username VARCHAR(50) UNIQUE NOT NULL,
        email VARCHAR(100) UNIQUE NOT NULL,
        password_hash VARCHAR(255) NOT NULL,
        first_name VARCHAR(50) NOT NULL,
        last_name VARCHAR(50) NOT NULL,
        phone_number VARCHAR(20),
        age INT,
        education_level VARCHAR(100),
        work_experience VARCHAR(100),
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
      )
    `),await e.execute(`
      CREATE TABLE IF NOT EXISTS auth_tokens (
        id INT AUTO_INCREMENT PRIMARY KEY,
        user_id INT NOT NULL,
        token VARCHAR(500) NOT NULL,
        expires_at TIMESTAMP NOT NULL,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
      )
    `),await e.execute(`
      DROP TABLE IF EXISTS chat_messages
    `),await e.execute(`
      DROP TABLE IF EXISTS assessment_states
    `),await e.execute(`
      DROP TABLE IF EXISTS assessments
    `),await e.execute(`
      CREATE TABLE assessments (
        id INT AUTO_INCREMENT PRIMARY KEY,
        user_id INT NOT NULL,
        questionnaire_id INT NOT NULL,
        score INT,
        max_score INT DEFAULT 100,
        level VARCHAR(50),
        description TEXT,
        analysis_result JSON,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        completed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
      )
    `),await e.execute(`
      CREATE TABLE chat_messages (
        id INT AUTO_INCREMENT PRIMARY KEY,
        assessment_id INT NOT NULL,
        user_id INT NOT NULL,
        message_type ENUM('user', 'ai1', 'ai2', 'system') NOT NULL,
        content TEXT NOT NULL,
        character_name VARCHAR(100),
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON DELETE CASCADE,
        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
      )
    `),await e.execute(`
      CREATE TABLE IF NOT EXISTS assessment_states (
        id INT AUTO_INCREMENT PRIMARY KEY,
        session_id VARCHAR(255) UNIQUE NOT NULL,
        state_data JSON NOT NULL,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
      )
    `),console.log("✅ جداول دیتابیس با موفقیت ایجاد شدند"),e.release(),!0}catch(e){return console.error("❌ خطا در ایجاد جداول:",e),!1}}let _=n},74462:(e,s,t)=>{"use strict";t.d(s,{p:()=>a});let a=()=>({questionnaire_id:2,title:"آزمون شخصیت MBTI",description:"تست شخصیت‌شناسی مایرز-بریگز برای شناخت نوع شخصیت شما",scenario_parts:[{id:"mbti_part1_social_energy",title:"انرژی اجتماعی",systemMessage:"سلام {user_name}، برای شناخت بهتر شخصیت شما، سؤالاتی درباره ترجیحات شما خواهم پرسید. لطفاً به صورت کامل و صادقانه پاسخ دهید.",question:"در محیط کاری، آیا بیشتر انرژی خود را از تعامل با دیگران می‌گیرید یا از کار انفرادی و تمرکز روی وظایف؟ دلیل خود را شرح دهید و مثالی از تجربه‌تان بزنید.",dimensions_to_analyze:["E_I"]},{id:"mbti_part2_social_interaction",title:"تعامل اجتماعی",systemMessage:"درباره نحوه تعامل شما با دیگران می‌پرسم.",question:"در جلسات کاری یا اجتماعی، آیا ترجیح می‌دهید فعالانه در بحث شرکت کنید و نظراتتان را بیان کنید، یا بیشتر گوش می‌دهید و قبل از صحبت فکر می‌کنید؟ چرا؟",dimensions_to_analyze:["E_I"]},{id:"mbti_part3_recharge_method",title:"روش شارژ انرژی",systemMessage:"حالا درباره نحوه بازیابی انرژی‌تان می‌پرسم.",question:"پس از یک روز پرتنش، برای بازیابی انرژی بیشتر ترجیح می‌دهید با دوستان وقت بگذرانید یا تنها باشید؟ توضیح دهید که چه کارهایی انرژی‌تان را برمی‌گرداند.",dimensions_to_analyze:["E_I"]},{id:"mbti_part4_information_focus",title:"تمرکز بر اطلاعات",systemMessage:"حالا درباره نحوه پردازش اطلاعات شما می‌پرسم.",question:"هنگام یادگیری چیز جدید، بیشتر به جزئیات عملی و مراحل مشخص توجه می‌کنید یا به تصویر کلی و امکانات آن؟ مثالی از نحوه یادگیری‌تان بزنید.",dimensions_to_analyze:["S_N"]},{id:"mbti_part5_problem_approach",title:"رویکرد به مسائل",systemMessage:"درباره نحوه برخورد شما با مسائل می‌پرسم.",question:"وقتی با مشکلی مواجه می‌شوید، بیشتر از تجربیات گذشته و راه‌حل‌های آزمایش‌شده استفاده می‌کنید یا به دنبال روش‌های نوآورانه و خلاقانه هستید؟ مثال بزنید.",dimensions_to_analyze:["S_N"]},{id:"mbti_part6_future_planning",title:"برنامه‌ریزی آینده",systemMessage:"درباره نگاه شما به آینده می‌پرسم.",question:"در برنامه‌ریزی برای آینده، بیشتر روی اهداف مشخص و قابل دستیابی تمرکز می‌کنید یا روی رؤیاها و امکانات بزرگ؟ چگونه آینده‌تان را تصور می‌کنید؟",dimensions_to_analyze:["S_N"]},{id:"mbti_part7_decision_criteria",title:"معیارهای تصمیم‌گیری",systemMessage:"حالا درباره نحوه تصمیم‌گیری شما می‌پرسم.",question:"وقتی باید تصمیم مهمی بگیرید، بیشتر بر اساس تحلیل منطقی و داده‌ها عمل می‌کنید یا احساسات و تأثیر روی دیگران را در نظر می‌گیرید؟ مثالی از تصمیم مهم‌تان بزنید.",dimensions_to_analyze:["T_F"]},{id:"mbti_part8_conflict_resolution",title:"حل تعارض",systemMessage:"درباره نحوه برخورد شما با تعارضات می‌پرسم.",question:"در مواجهه با اختلاف نظر یا تعارض، بیشتر تلاش می‌کنید حقیقت را پیدا کنید و عادلانه قضاوت کنید، یا روابط را حفظ کنید و همه راضی باشند؟ چرا؟",dimensions_to_analyze:["T_F"]},{id:"mbti_part9_feedback_style",title:"سبک بازخورد",systemMessage:"درباره نحوه ارائه بازخورد شما می‌پرسم.",question:"وقتی باید به کسی بازخورد بدهید، بیشتر مستقیم و صریح صحبت می‌کنید یا سعی می‌کنید ملایم و با در نظر گیری احساسات طرف مقابل باشید؟ توضیح دهید.",dimensions_to_analyze:["T_F"]},{id:"mbti_part10_organization_style",title:"سبک سازماندهی",systemMessage:"درباره سبک کاری و زندگی شما می‌پرسم.",question:"آیا ترجیح می‌دهید برنامه‌ریزی دقیق داشته باشید و طبق آن عمل کنید، یا انعطاف‌پذیر باشید و با شرایط تطبیق پیدا کنید؟ محیط کار یا زندگی‌تان چگونه سازماندهی شده؟",dimensions_to_analyze:["P_J"]},{id:"mbti_part11_deadline_approach",title:"رویکرد به ضرب‌الاجل",systemMessage:"درباره نحوه کار شما با ضرب‌الاجل‌ها می‌پرسم.",question:"وقتی پروژه‌ای با ضرب‌الاجل دارید، معمولاً از ابتدا شروع می‌کنید و مرحله به مرحله پیش می‌روید، یا تا آخرین لحظه صبر می‌کنید و با فشار کار می‌کنید؟ چرا؟",dimensions_to_analyze:["P_J"]},{id:"mbti_part12_change_adaptation",title:"سازگاری با تغییر",systemMessage:"سؤال آخر درباره نحوه برخورد شما با تغییرات است.",question:"وقتی برنامه‌هایتان ناگهان تغییر می‌کند، چه احساسی دارید و چگونه واکنش نشان می‌دهید؟ آیا تغییرات غیرمنتظره را فرصت می‌بینید یا مشکل؟ مثال بزنید.",dimensions_to_analyze:["P_J"]}],scoring_rules:{max_score:16,dimensions:[{name:"E_I",description:"برون‌گرایی در مقابل درون‌گرایی",range:"E (-4) تا I (+4)"},{name:"S_N",description:"حسی در مقابل شهودی",range:"S (-4) تا N (+4)"},{name:"T_F",description:"تفکری در مقابل احساسی",range:"T (-4) تا F (+4)"},{name:"P_J",description:"ادراکی در مقابل قضاوتی",range:"P (-4) تا J (+4)"}]}})}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,240,482,410],()=>t(32889));module.exports=a})();