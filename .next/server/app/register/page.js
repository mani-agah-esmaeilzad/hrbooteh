(()=>{var e={};e.id=942,e.ids=[942],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15201:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),s(72378),s(98158),s(68666);var t=s(23191),a=s(88716),i=s(37922),n=s.n(i),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let d=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,72378)),"/root/hrbooteh/src/app/register/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,98158)),"/root/hrbooteh/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,68666)),"/root/hrbooteh/src/app/not-found.tsx"]}],u=["/root/hrbooteh/src/app/register/page.tsx"],c="/register/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},36735:(e,r,s)=>{Promise.resolve().then(s.bind(s,81740))},35047:(e,r,s)=>{"use strict";var t=s(77389);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})},27299:(e,r,s)=>{"use strict";s.d(r,{_:()=>u});var t=s(10326),a=s(17577),i=s(45226),n=a.forwardRef((e,r)=>(0,t.jsx)(i.WV.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var o=s(79360),l=s(51223);let d=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef(({className:e,...r},s)=>t.jsx(n,{ref:s,className:(0,l.cn)(d(),e),...r}));u.displayName=n.displayName},81740:(e,r,s)=>{"use strict";s.d(r,{default:()=>p});var t=s(10326),a=s(17577),i=s(94001),n=s(35047),o=s(91664),l=s(29752),d=s(41190),u=s(27299),c=s(85999);function p(){let[e,r]=(0,a.useState)(""),[s,p]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[x,g]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[w,_]=(0,a.useState)(!1),{setUser:y}=(0,i.a)(),N=(0,n.useRouter)(),P=async r=>{if(r.preventDefault(),b(""),!e.trim()||!s.trim()){b("نام و نام خانوادگی الزامی است.");return}if(x!==f){b("رمزهای عبور یکسان نیستند.");return}_(!0);try{let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:m,password:x,password_confirmation:f,first_name:e,last_name:s})}),t=await r.json();if(!r.ok){if(t.error)throw Error(t.error);throw Error(t.message||"خطا در ثبت‌نام")}if(t.success)c.Am.success("حساب کاربری با موفقیت ایجاد شد"),N.push("/login");else throw Error("خطا در ثبت‌نام")}catch(e){console.error("Registration error:",e),b(e.message||"خطا در ثبت‌نام. لطفاً دوباره تلاش کنید.")}finally{_(!1)}};return t.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,t.jsxs)(l.Zb,{className:"mx-auto max-w-sm",children:[(0,t.jsxs)(l.Ol,{children:[t.jsx(l.ll,{className:"text-xl",children:"ثبت‌نام"}),t.jsx(l.SZ,{children:"برای ساخت حساب کاربری جدید، اطلاعات زیر را وارد کنید"})]}),(0,t.jsxs)(l.aY,{children:[t.jsx("form",{onSubmit:P,children:(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"name",children:"نام"}),t.jsx(d.I,{id:"name",value:e,onChange:e=>r(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"lastName",children:"نام خانوادگی"}),t.jsx(d.I,{id:"lastName",value:s,onChange:e=>p(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"email",children:"ایمیل"}),t.jsx(d.I,{id:"email",type:"email",value:m,onChange:e=>h(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"password",children:"رمز عبور"}),t.jsx(d.I,{id:"password",type:"password",value:x,onChange:e=>g(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"password-confirm",children:"تکرار رمز عبور"}),t.jsx(d.I,{id:"password-confirm",type:"password",value:f,onChange:e=>j(e.target.value),required:!0})]}),v&&t.jsx("p",{className:"text-red-500 text-sm whitespace-pre-line",children:v}),t.jsx(o.z,{type:"submit",className:"w-full",disabled:w,children:w?"در حال ساخت حساب...":"ثبت‌نام"})]})}),(0,t.jsxs)("div",{className:"mt-4 text-center text-sm",children:["حساب کاربری دارید؟"," ",t.jsx("a",{href:"/login",className:"underline",children:"وارد شوید"})]})]})]})})}},72378:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i});var t=s(19510);let a=(0,s(68570).createProxy)(String.raw`/root/hrbooteh/src/pages/Register.tsx#default`);function i(){return t.jsx(a,{})}}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[276,917,999,763],()=>s(15201));module.exports=t})();