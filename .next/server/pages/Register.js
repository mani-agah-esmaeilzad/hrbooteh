"use strict";(()=>{var e={};e.id=37,e.ids=[37,660],e.modules={77657:(e,r,t)=>{t.r(r),t.d(r,{config:()=>_,default:()=>y,getServerSideProps:()=>S,getStaticPaths:()=>N,getStaticProps:()=>w,reportWebVitals:()=>P,routeModule:()=>F,unstable_getServerProps:()=>k,unstable_getServerSideProps:()=>I,unstable_getStaticParams:()=>R,unstable_getStaticPaths:()=>C,unstable_getStaticProps:()=>q});var s={};t.r(s),t.d(s,{default:()=>j});var a=t(87093),i=t(35244),n=t(1323),o=t(61682),l=t.n(o),d=t(48141),c=t.n(d),u=t(20997),m=t(16689),p=t(37568),g=t(39332),f=t(95189),x=t(50947),h=t(87095),v=t(28298),b=t(11399);function j(){let[e,r]=(0,m.useState)(""),[t,s]=(0,m.useState)(""),[a,i]=(0,m.useState)(""),[n,o]=(0,m.useState)(""),[l,d]=(0,m.useState)(""),[c,j]=(0,m.useState)(""),[y,w]=(0,m.useState)(!1),{setUser:N}=(0,p.a)(),S=(0,g.useRouter)(),_=async r=>{if(r.preventDefault(),j(""),!e.trim()||!t.trim()){j("نام و نام خانوادگی الزامی است.");return}if(n!==l){j("رمزهای عبور یکسان نیستند.");return}w(!0);try{let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:a,password:n,password_confirmation:l,first_name:e,last_name:t})}),s=await r.json();if(!r.ok){if(s.error)throw Error(s.error);throw Error(s.message||"خطا در ثبت‌نام")}if(s.success)b.toast.success("حساب کاربری با موفقیت ایجاد شد"),S.push("/login");else throw Error("خطا در ثبت‌نام")}catch(e){console.error("Registration error:",e),j(e.message||"خطا در ثبت‌نام. لطفاً دوباره تلاش کنید.")}finally{w(!1)}};return u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,u.jsxs)(x.Zb,{className:"mx-auto max-w-sm",children:[(0,u.jsxs)(x.Ol,{children:[u.jsx(x.ll,{className:"text-xl",children:"ثبت‌نام"}),u.jsx(x.SZ,{children:"برای ساخت حساب کاربری جدید، اطلاعات زیر را وارد کنید"})]}),(0,u.jsxs)(x.aY,{children:[u.jsx("form",{onSubmit:_,children:(0,u.jsxs)("div",{className:"grid gap-4",children:[(0,u.jsxs)("div",{className:"grid gap-2",children:[u.jsx(v._,{htmlFor:"name",children:"نام"}),u.jsx(h.I,{id:"name",value:e,onChange:e=>r(e.target.value),required:!0})]}),(0,u.jsxs)("div",{className:"grid gap-2",children:[u.jsx(v._,{htmlFor:"lastName",children:"نام خانوادگی"}),u.jsx(h.I,{id:"lastName",value:t,onChange:e=>s(e.target.value),required:!0})]}),(0,u.jsxs)("div",{className:"grid gap-2",children:[u.jsx(v._,{htmlFor:"email",children:"ایمیل"}),u.jsx(h.I,{id:"email",type:"email",value:a,onChange:e=>i(e.target.value),required:!0})]}),(0,u.jsxs)("div",{className:"grid gap-2",children:[u.jsx(v._,{htmlFor:"password",children:"رمز عبور"}),u.jsx(h.I,{id:"password",type:"password",value:n,onChange:e=>o(e.target.value),required:!0})]}),(0,u.jsxs)("div",{className:"grid gap-2",children:[u.jsx(v._,{htmlFor:"password-confirm",children:"تکرار رمز عبور"}),u.jsx(h.I,{id:"password-confirm",type:"password",value:l,onChange:e=>d(e.target.value),required:!0})]}),c&&u.jsx("p",{className:"text-red-500 text-sm whitespace-pre-line",children:c}),u.jsx(f.z,{type:"submit",className:"w-full",disabled:y,children:y?"در حال ساخت حساب...":"ثبت‌نام"})]})}),(0,u.jsxs)("div",{className:"mt-4 text-center text-sm",children:["حساب کاربری دارید؟"," ",u.jsx("a",{href:"/login",className:"underline",children:"وارد شوید"})]})]})]})})}let y=(0,n.l)(s,"default"),w=(0,n.l)(s,"getStaticProps"),N=(0,n.l)(s,"getStaticPaths"),S=(0,n.l)(s,"getServerSideProps"),_=(0,n.l)(s,"config"),P=(0,n.l)(s,"reportWebVitals"),q=(0,n.l)(s,"unstable_getStaticProps"),C=(0,n.l)(s,"unstable_getStaticPaths"),R=(0,n.l)(s,"unstable_getStaticParams"),k=(0,n.l)(s,"unstable_getServerProps"),I=(0,n.l)(s,"unstable_getServerSideProps"),F=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/Register",pathname:"/Register",bundlePath:"",filename:""},components:{App:c(),Document:l()},userland:s})},95189:(e,r,t)=>{t.d(r,{z:()=>d});var s=t(20997),a=t(16689);let i=require("@radix-ui/react-slot");var n=t(41169),o=t(51093);let l=(0,n.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...n},d)=>{let c=a?i.Slot:"button";return s.jsx(c,{className:(0,o.cn)(l({variant:r,size:t,className:e})),ref:d,...n})});d.displayName="Button"},50947:(e,r,t)=>{t.d(r,{Ol:()=>o,SZ:()=>d,Zb:()=>n,aY:()=>c,ll:()=>l});var s=t(20997),a=t(16689),i=t(51093);let n=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let o=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},87095:(e,r,t)=>{t.d(r,{I:()=>n});var s=t(20997),a=t(16689),i=t(51093);let n=a.forwardRef(({className:e,type:r,...t},a)=>s.jsx("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));n.displayName="Input"},28298:(e,r,t)=>{t.d(r,{_:()=>d});var s=t(20997),a=t(16689);let i=require("@radix-ui/react-label");var n=t(41169),o=t(51093);let l=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...r},t)=>s.jsx(i.Root,{ref:t,className:(0,o.cn)(l(),e),...r}));d.displayName=i.Root.displayName},37568:(e,r,t)=>{t.d(r,{a:()=>i}),t(20997);var s=t(16689);let a=(0,s.createContext)(void 0),i=()=>{let e=(0,s.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},51093:(e,r,t)=>{t.d(r,{cn:()=>i});let s=require("clsx"),a=require("tailwind-merge");function i(...e){return(0,a.twMerge)((0,s.clsx)(e))}},41169:e=>{e.exports=require("class-variance-authority")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},16689:e=>{e.exports=require("react")},20997:e=>{e.exports=require("react/jsx-runtime")},11399:e=>{e.exports=require("sonner")},55315:e=>{e.exports=require("path")}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[682,54],()=>t(77657));module.exports=s})();