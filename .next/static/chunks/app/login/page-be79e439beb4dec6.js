(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5156:function(e,t,r){Promise.resolve().then(r.bind(r,5735))},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...x}=e;return(0,s.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:r,strokeWidth:o?24*Number(l)/Number(a):l,className:i("lucide",c),...x},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:o,...c}=r;return(0,s.createElement)(l,{ref:n,iconNode:t,className:i("lucide-".concat(a(e)),o),...c})});return r.displayName="".concat(e),r}},6858:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},8906:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(7437),a=r(2265),i=r(7053),n=r(535),l=r(3448);let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:a,size:n,className:r})),ref:t,...d})});c.displayName="Button"},279:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var s=r(7437),a=r(2265),i=r(3448);let n=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},2820:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var s=r(7437),a=r(2265),i=r(6840),n=a.forwardRef((e,t)=>(0,s.jsx)(i.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=r(535),o=r(3448);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n,{ref:t,className:(0,o.cn)(c(),r),...a})});d.displayName=n.displayName},4362:function(e,t,r){"use strict";r.d(t,{H:function(){return n},a:function(){return l}});var s=r(7437),a=r(2265);let i=(0,a.createContext)(void 0),n=e=>{let{children:t}=e,[r,n]=(0,a.useState)(null),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,x]=(0,a.useState)(1);return(0,a.useEffect)(()=>{try{let e=localStorage.getItem("user");e&&n(JSON.parse(e))}catch(e){console.error("Error loading user from localStorage:",e)}},[]),(0,s.jsx)(i.Provider,{value:{user:r,setUser:e=>{n(e);try{e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user")}catch(e){console.error("Error saving user to localStorage:",e)}},selectedSkillId:l,setSelectedSkillId:o,currentAssessmentId:c,setCurrentAssessmentId:d,currentQuestionnaire:u,setCurrentQuestionnaire:x},children:t})},l=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var s=r(1994),a=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},5735:function(e,t,r){"use strict";r.d(t,{default:function(){return p}});var s=r(7437),a=r(2265),i=r(2381),n=r(279),l=r(2820),o=r(8906),c=r(9205);let d=(0,c.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),u=(0,c.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),x=(0,c.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),h=(0,c.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=r(6858),v=r(9376),f=r(4362),g=r(4438),p=()=>{let e=(0,v.useRouter)(),{setUser:t}=(0,f.a)(),[r,c]=(0,a.useState)(!1),[p,b]=(0,a.useState)(!1),[y,w]=(0,a.useState)({username:"",password:""}),N=async r=>{if(r.preventDefault(),y.username.trim()&&y.password.trim()){c(!0);try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:y.username,password:y.password})}),a=await r.json();if(!r.ok){var s;if(404===r.status&&(null===(s=a.message)||void 0===s?void 0:s.includes("یافت نشد"))){g.Am.info("اکانت شما وجود ندارد. لطفاً ابتدا ثبت‌نام کنید"),e.push("/register");return}throw Error(a.message||"خطا در ورود")}if(a.success&&a.data){localStorage.setItem("token",a.data.token);let r=a.data.user;t(r),g.Am.success("ورود موفقیت‌آمیز بود"),e.push("/")}else throw Error("خطا در ورود")}catch(e){console.error("Login error:",e),g.Am.error(e instanceof Error?e.message:"خطا در ورود")}finally{c(!1)}}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-executive-pearl via-white to-executive-silver/30 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 opacity-[0.02]",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-executive-navy rounded-full -translate-x-1/2 -translate-y-1/2"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-executive-gold rounded-full translate-x-1/2 translate-y-1/2"})]}),(0,s.jsx)("header",{className:"relative z-10 px-8 py-6 bg-white/80 backdrop-blur-xl border-b border-executive-ash-light/50",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-executive-navy to-executive-navy-light rounded-xl flex items-center justify-center shadow-lg",children:(0,s.jsx)(o.Z,{className:"w-7 h-7 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-executive-charcoal",children:"سامانه ارزیابی مهارت‌های حرفه‌ای"}),(0,s.jsx)("p",{className:"text-executive-ash text-sm",children:"سیستم تحلیل و ارزیابی تخصصی"})]})]})})}),(0,s.jsx)("div",{className:"relative z-10 flex items-center justify-center min-h-[calc(100vh-120px)] px-8 py-12",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-luxury border border-white/20 overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-8 py-8 bg-gradient-to-r from-executive-navy to-executive-navy-light text-center relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("div",{className:"w-20 h-20 mx-auto bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-4 shadow-xl",children:(0,s.jsx)(o.Z,{className:"w-10 h-10 text-white"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"ورود به سیستم"}),(0,s.jsx)("p",{className:"text-executive-navy-light/80 text-sm",children:"دسترسی به پنل ارزیابی تخصصی"})]})]}),(0,s.jsxs)("div",{className:"px-8 py-8",children:[(0,s.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"username",className:"text-executive-charcoal font-semibold text-sm",children:"نام کاربری"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none",children:(0,s.jsx)(d,{className:"w-5 h-5 text-executive-ash"})}),(0,s.jsx)(n.I,{id:"username",type:"text",value:y.username,onChange:e=>w(t=>({...t,username:e.target.value})),className:"h-12 pr-12 text-base bg-executive-pearl/50 border-executive-ash-light focus:border-executive-navy focus:bg-white transition-all duration-300 rounded-xl",placeholder:"نام کاربری خود را وارد کنید",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"password",className:"text-executive-charcoal font-semibold text-sm",children:"رمز عبور"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none",children:(0,s.jsx)(u,{className:"w-5 h-5 text-executive-ash"})}),(0,s.jsx)(n.I,{id:"password",type:p?"text":"password",value:y.password,onChange:e=>w(t=>({...t,password:e.target.value})),className:"h-12 pr-12 pl-12 text-base bg-executive-pearl/50 border-executive-ash-light focus:border-executive-navy focus:bg-white transition-all duration-300 rounded-xl",placeholder:"رمز عبور خود را وارد کنید",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>b(!p),className:"absolute inset-y-0 left-3 flex items-center text-executive-ash hover:text-executive-navy transition-colors",children:p?(0,s.jsx)(x,{className:"w-5 h-5"}):(0,s.jsx)(h,{className:"w-5 h-5"})})]})]}),(0,s.jsx)(i.z,{type:"submit",disabled:!y.username.trim()||!y.password.trim()||r,className:"w-full h-14 bg-gradient-to-r from-executive-navy to-executive-navy-light hover:from-executive-navy-dark hover:to-executive-navy text-white font-semibold rounded-xl shadow-lg transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:r?(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"در حال ورود..."]}):(0,s.jsxs)("div",{className:"flex items-center gap-3",children:["ورود به سیستم",(0,s.jsx)(m.Z,{className:"w-5 h-5"})]})})]}),(0,s.jsxs)("div",{className:"mt-8 pt-6 border-t border-executive-ash-light/30",children:[(0,s.jsx)("div",{className:"bg-executive-gold-light/20 rounded-xl p-4 border border-executive-gold/20",children:(0,s.jsxs)("p",{className:"text-center text-sm text-executive-charcoal-light",children:[(0,s.jsx)("span",{className:"font-semibold",children:"راهنمایی:"})," با هر نام کاربری و رمز عبوری می‌توانید وارد شوید"]})}),(0,s.jsxs)("div",{className:"mt-6 text-center",children:[(0,s.jsx)("p",{className:"text-executive-ash text-sm mb-3",children:"حساب کاربری ندارید؟"}),(0,s.jsx)(i.z,{onClick:()=>e.push("/register"),variant:"outline",className:"w-full bg-white/80 hover:bg-white border-executive-gold text-executive-gold hover:text-executive-gold-dark transition-all duration-300",children:"ثبت‌نام کنید"})]})]})]})]}),(0,s.jsx)("div",{className:"mt-8 text-center",children:(0,s.jsx)("p",{className:"text-executive-ash text-sm",children:"\xa9 ۱۴۰۳ سامانه ارزیابی مهارت‌های حرفه‌ای. تمامی حقوق محفوظ است."})})]})})]})}},6840:function(e,t,r){"use strict";r.d(t,{WV:function(){return l},jH:function(){return o}});var s=r(2265),a=r(4887),i=r(7053),n=r(7437),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=s.forwardRef((e,r)=>{let{asChild:s,...a}=e,l=s?i.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function o(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}}},function(e){e.O(0,[569,438,971,117,744],function(){return e(e.s=5156)}),_N_E=e.O()}]);